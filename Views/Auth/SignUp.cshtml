@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sign Up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light d-flex justify-content-center align-items-center" style="height: 100vh;">

    <div class="card shadow p-4" style="width: 400px;">
        <h3 class="text-primary fw-bold text-center">Join Cramrades 🚀</h3>
        <p class="text-center text-muted small">Step 1: Create Account</p>

        <input type="text" id="name" class="form-control mb-2" placeholder="Full Name">
        <input type="email" id="email" class="form-control mb-2" placeholder="Email">
        <input type="password" id="pass" class="form-control mb-3" placeholder="Password">

        <button onclick="register()" class="btn btn-primary w-100">Next: Setup Profile ➡️</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

        const firebaseConfig = { 
            apiKey: "AIzaSyDrkRtgGhFWSvEiDr5pZy2sGDHI8HCpPt0",
            authDomain: "cramrades.firebaseapp.com",
            projectId: "cramrades",
            storageBucket: "cramrades.firebasestorage.app",
            messagingSenderId: "421414498264",
            appId: "1:421414498264:web:58e04c186d5bdea7c88cad"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        window.register = async () => {
            const email = document.getElementById("email").value;
            const pass = document.getElementById("pass").value;
            const name = document.getElementById("name").value;

            try {
                const cred = await createUserWithEmailAndPassword(auth, email, pass);
                // Save Name briefly to LocalStorage to use on next page
                localStorage.setItem("tempName", name);
                localStorage.setItem("tempUid", cred.user.uid);

                // REDIRECT TO PROFILE SETUP
                window.location.href = "/Auth/ProfileSetup";
            } catch (e) { alert(e.message); }
        }
    </script>
</body>
</html>